(this["webpackJsonpmy-albums"]=this["webpackJsonpmy-albums"]||[]).push([[0],{25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(18),i=n.n(a),s=n(7),o=n.n(s),l=n(10),u=n(8),p=n(9),x=n(2);function b(e,t){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(o.a.mark((function e(t,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,fetch("/search?entity=".concat(t,"&term=").concat(n));case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c.results);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",[{error:"Unable to retrieve ".concat(t),more:JSON.stringify(e.t0)}]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function j(e,t){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/lookup?id=".concat(n,"&entity=").concat(t));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c.results&&c.results.length?c.results[0]:{});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[{error:"Unable to retrieve album id ".concat(n),more:JSON.stringify(e.t0)}]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}n(25);var f=n(1),m=function(e){var t=e.text;return Object(f.jsx)("header",{style:{marginTop:"10px",marginBottom:"20px",fontSize:"25px"},children:Object(f.jsx)("h1",{children:t})})},g=function(){return Object(f.jsx)("footer",{style:{marginTop:"30px",textAlign:"center",fontSize:"10px"},children:Object(f.jsx)("p",{children:" Ago/2021 "})})},O=function(e){var t=e.id,n=e.title,r=e.price,c=e.thumbnail,a=(e.artist,e.artistName),i=e.currency,s=e.releaseDate,o=e.collectionType;return Object(f.jsx)(p.b,{style:{textDecoration:"none"},to:"/album/".concat(t),children:Object(f.jsxs)("div",{style:{border:"solid 3px none",backgroundColor:"white",borderRadius:"5px",padding:"10px",height:"230px",boxShadow:"10px 5px 5px lightgrey"},children:[Object(f.jsx)("img",{src:c,style:{borderRadius:"5px",height:"150px"},alt:a}),Object(f.jsx)("h1",{style:{margin:"0px",fontFamily:"'Roboto Condensed', sans-serif",color:"black",fontSize:"x-large"},children:a}),Object(f.jsx)("h2",{style:{fontWeight:"bold",fontSize:"16px",marginTop:"5px"},children:n.length>30?"".concat(n.substring(0,30),"..."):n}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(f.jsxs)("h3",{style:{fontWeight:"none",fontSize:"12px",textAlign:"left",margin:"0px"},children:[o," ","".concat(new Date(s).getFullYear())]}),Object(f.jsxs)("p",{style:{textAlign:"right",fontSize:"10px",fontWeight:"none",margin:"0px",padding:"5px"},children:["$ ",r," ",i]})]})]})})},y=function(e){var t=e.albums;return Object(f.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",rowGap:"20px",columnGap:"20px"},children:t.map((function(e){return Object(f.jsx)(O,{id:e.collectionId,artist:e.artistId,artistName:e.artistName,thumbnail:e.artworkUrl100,price:e.collectionPrice?e.collectionPrice:"N/A",currency:e.currency,releaseDate:e.releaseDate,collectionType:e.collectionType,title:e.collectionName},e.collectionId)}))})},v=function(){var e=Object(x.e)().albumId,t=Object(r.useState)({}),n=Object(u.a)(t,2),c=n[0],a=n[1];Object(r.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("album",e);case 2:n=t.sent,a(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{backgroundColor:"whitesmoke",borderRadius:"5px",padding:"5px 20px",marginBottom:"20px",width:"100px"},children:Object(f.jsx)(p.b,{to:"/",children:"Return"})}),Object(f.jsx)(m,{text:c.collectionName}),Object(f.jsxs)("div",{style:{backgroundColor:"whitesmoke",borderRadius:"5px",padding:"20px"},children:[Object(f.jsx)("img",{src:c.artworkUrl100,alt:c.artistName,style:{borderRadius:"5px",height:"300px",marginBottom:"50px"}}),Object(f.jsxs)("div",{style:{borderRadius:"5px",padding:"20px",textAlign:"left"},children:[Object(f.jsxs)("p",{children:["Artist: ",c.artistName]}),Object(f.jsxs)("p",{children:["Price: $ ",c.collectionPrice," ",c.currency]}),Object(f.jsxs)("p",{children:["Genre: ",c.primaryGenreName]}),Object(f.jsx)("p",{children:c.copyright})]})]})]})},k=function(e){var t=e.onClick,n=Object(r.useState)(""),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!0),o=Object(u.a)(s,2),l=o[0],p=o[1],x=Object(r.useState)(!1),b=Object(u.a)(x,2),d=b[0],j=b[1],h={display:"flex",justifyContent:"flex-start",margin:" 30px 50px 30px 50px",width:"400px",borderBottom:"solid 2px ".concat(d&&l?"red":"grey")};return Object(f.jsx)("section",{children:Object(f.jsxs)("div",{style:h,children:[Object(f.jsx)("input",{style:{width:"90%",border:"none",background:"none",outline:"none"},type:"text",placeholder:"Search by artist",onChange:function(e){i(e.target.value),p(!e.target.value)}}),Object(f.jsx)("button",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"10%",height:"30px"},onClick:function(){j(!0),t(a)},children:Object(f.jsx)("i",{className:"fas fa-search"})})]})})};var w=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.next=5,b("album",t);case 5:n=e.sent,c(n),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),h=function(e){console.log("child clicked",e),j(e)};return Object(f.jsx)(p.a,{children:Object(f.jsxs)("div",{style:{background:"whitesmoke",textAlign:"center",borderRadius:"7px",padding:"10px",fontFamily:"'Lato', sans-serif"},className:"App",children:[Object(f.jsx)(x.a,{path:"/",exact:!0,render:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{text:"Albums Catalog"}),Object(f.jsx)(k,{onClick:h}),Object(f.jsx)("section",{children:Object(f.jsx)(y,{albums:n})})]})}}),Object(f.jsx)(x.a,{path:"/album/:albumId",component:v}),Object(f.jsx)(g,{})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root")),S()}},[[32,1,2]]]);
//# sourceMappingURL=main.dec31e97.chunk.js.map